<!--
type Context struct {
    Query   string
    Results []struct {
        Name              string
        Confidence        int
        PackageName       string
        PackageImportPath string
        PrettyTokens      []struct {
            Text string
            Kind string
        }
    }
}

Token kinds:
- comment
- embedded_name
- embedded_package
- field_name
- interface_name
- keyword
- method_name
- punctuation
- field_type
- whitespace
Fronted-only kinds:
- literal
-->

{{- define "title" -}}
    {{- .Query -}}
{{- end -}}

{{- define "description" -}}
    Results for '{{- .Query -}}' query.
{{- end -}}

{{- define "head" -}}
    <style>
        .result {
            margin: 0 0 4rem;
        }

        .result .full-name {
            font-weight: 600;
            margin-top: 0;
        }

        .result .full-name a {
            color: #005cc5;
        }

        .result .confidence {
            color: #ccc;
            user-select: none; -moz-user-select: none;
        }
    </style>
{{- end -}}

{{- define "query" -}}
    {{- .Query -}}
{{- end -}}

{{- define "body" -}}
    {{- range $i, $result := .Results -}}
        <div class="result">
            <h2 class="full-name">
                {{- $result.PackageName -}}.<!--
             --><a href="https://godoc.org/{{- $result.PackageImportPath -}}#{{- $result.Name -}}">
                    {{- $result.Name -}}
                </a>
                <span class="confidence">
                    {{- $result.Confidence -}}%
                </span>
            </h2>
            <code><!--
             --><span class="keyword">import</span><!--
             --><span class="whitespace"> </span><!--
             --><span class="literal">"{{- $result.PackageImportPath -}}"</span><!--
         --></code>
            <code>
                {{- range $_, $token := .PrettyTokens -}}
                    <span class="{{- $token.Kind -}}">{{- $token.Text -}}</span>
                {{- end -}}
            </code>
        </div>
    {{- end -}}
{{- end -}}
