<!--
type Context struct {
    Query   string
    Results []struct {
        Name              string
        PackageName       string
        PackageImportPath string
        PrettyTokens      []struct {
            Text string
            Kind string
        }
    }
}

Token kinds:
- comment
- embedded_name
- field_name
- interface_name
- keyword
- method_name
- punctuation
- field_type
- whitespace
Fronted-only kinds:
- literal
-->

{{- define "title" -}}
    {{- .Query -}}
{{- end -}}

{{- define "description" -}}
    gis
{{- end -}}

{{- define "head" -}}
    <style>
        .result {
            margin: 1rem 0;
        }

        code {
            color: #24292e;
            display: block;
            line-height: 1.3;
            tab-size: 4; -moz-tab-size: 4;
            white-space: pre-wrap;
            padding: 1em;
            border: 1px solid #eee;
            border-radius: 0.2em;
            margin: 1em 0;
        }

        code .comment {color: #6a737d;}
        code .embedded_name, code .literal {color: #032f62;}
        code .field_type, code .interface_name {color: #6f42c1;}
        code .keyword {color: #d73a49;}
        code .method_name {color: #005cc5;}
    </style>
{{- end -}}

{{- define "body" -}}
    <h1>{{- .Query -}}</h1>
    {{- range $i, $result := .Results -}}
        <div class="result">
            <h2>{{- $result.PackageName -}}.{{- $result.Name -}}</h2>
            <code><!--
             --><span class="keyword">import</span><!--
             --><span class="whitespace"> </span><!--
             --><span class="literal">"{{- .PackageImportPath -}}"</span><!--
         --></code>
            <code>
                {{- range $_, $token := .PrettyTokens -}}
                    <span class="{{- $token.Kind -}}">{{- $token.Text -}}</span>
                {{- end -}}
            </code>
        </div>
    {{- end -}}
{{- end -}}
